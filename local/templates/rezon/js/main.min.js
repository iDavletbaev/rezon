function scrollToActiveCardsCountry(t){t&&t.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})}function initSliderCountry(){let t=document.querySelectorAll(".country__info--slide");if(console.log("🚀 ~ initSliderCountry ~ slidesCountry:",t),0===t.length)return;const e=document.querySelector(".country__info--button-next"),n=document.querySelector(".country__info--button-prev"),o=document.querySelector(".country__info--line-item");let i=0,l=t.length;function r(){let t=(i+1)/l*100;o.style.width=t+"%"}function c(){n.disabled=0===i,e.disabled=i===t.length-1,n.classList.toggle("non-active",0===i),e.classList.toggle("non-active",i===t.length-1)}n.addEventListener("click",()=>{if(i>0){i--;scrollToActiveCardsCountry(t.item(i)),c(),r()}}),e.addEventListener("click",()=>{if(i<t.length-1){i++;scrollToActiveCardsCountry(t.item(i)),c(),r()}}),r()}initSliderCountry();
document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".main__screen--image");!function(){const e=document.querySelectorAll(".main__countries--item"),t=document.querySelectorAll(".main__geo"),c=document.querySelectorAll(".main__screen--image"),n=document.querySelector(".main__countries--button-next"),i=document.querySelector(".main__countries--button-prev");let o=0,s=!1;function a(n,i="next"){if(s)return;s=!0;const a=document.querySelector(".main__screen--image-active"),l=c[n];document.querySelector(".main__countries--item.active").classList.remove("active"),document.querySelector(".main__geo.active").classList.remove("active"),e[n].classList.add("active"),t[n].classList.add("active"),a&&(a.classList.remove("main__screen--image-active"),a.classList.add("next"===i?"main__screen--image-prev":"")),l.style.left="next"===i?"100%":"-100%",l.classList.remove("main__screen--image-prev"),setTimeout(()=>{l.classList.add("main__screen--image-active")},50),setTimeout(()=>{s=!1,a&&(a.classList.remove("main__screen--image-prev"),a.style.left="")},600),o=n,r(),function(e){const t=document.querySelectorAll(".main__countries--item");if(e){const c=t[e.getAttribute("data-geo")];c&&c.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})}}(e[n])}function r(){const t=document.querySelector(".main__countries--list"),c=t.scrollWidth-t.clientWidth;i.disabled=0===o,n.disabled=o===e.length-1,i.classList.toggle("no-active",0===o),n.classList.toggle("no-active",o===e.length-1);const s=document.querySelector(".main__countries--item-circle-prev"),a=document.querySelector(".main__countries--item-circle-next");0===o?(s.style.opacity="0",a.style.opacity=0!==c?"1":"0"):o===e.length-1?(s.style.opacity=0!==c?"1":"0",a.style.opacity="0"):(s.style.opacity=0!==c?"1":"0",a.style.opacity=0!==c?"1":"0")}0!==e.length&&(i.addEventListener("click",()=>{o>0&&!s&&a(o-1,"prev")}),n.addEventListener("click",()=>{o<e.length-1&&!s&&a(o+1,"next")}),e.forEach((e,t)=>{e.addEventListener("click",()=>{s||t===o||a(t,t>o?"next":"prev")})}),t.forEach((e,t)=>{e.addEventListener("click",()=>{s||t===o||a(t,t>o?"next":"prev")})}),r())}()});
document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#searchInput"),t=document.querySelectorAll(".main__countries--item");if(0!==t.length&&(e.addEventListener("input",e=>{const l=e.target.value;if(0==l.length)document.querySelector(".modal-map__search--start").style.display="block",document.querySelector(".modal-map__search--result").style.display="none",document.querySelector(".modal-map__search--non-result").style.display="none";else{!function(e){e.length>0?(document.querySelector(".modal-map__search--start").style.display="none",document.querySelector(".modal-map__search--result").style.display="flex",document.querySelector(".modal-map__search--non-result").style.display="none"):(document.querySelector(".modal-map__search--result").style.display="none",document.querySelector(".modal-map__search--start").style.display="none",document.querySelector(".modal-map__search--non-result").style.display="flex")}(function(e){return Array.from(t).filter(t=>t.textContent.toLowerCase().includes(e.toLowerCase()))}(l))}}),window.innerWidth<=650)){const t=document.querySelector(".map__search");t&&t.addEventListener("click",()=>{document.querySelector(".modal-map").style.display="flex"});const l=document.querySelector(".modal-map__content--title-close");l&&l.addEventListener("click",()=>{document.querySelector(".modal-map").style.display="none",document.querySelector(".modal-map__search--start").style.display="block",document.querySelector(".modal-map__search--result").style.display="none",document.querySelector(".modal-map__search--non-result").style.display="none",e.value=""})}});
document.addEventListener("DOMContentLoaded",()=>{function e(e){const t=Array.from(document.querySelectorAll(".offers__content--slider .offers__content--slide")).filter(e=>"flex"===getComputedStyle(e).display);if(e){const o=t.find(t=>t.getAttribute("data-position")===e.getAttribute("data-position"));o&&o.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})}}function t(e){e&&e.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})}!function(){let t=Array.from(document.querySelectorAll(".offers__content--slider .offers__content--slide")).filter(e=>"flex"===getComputedStyle(e).display);if(0===t.length)return;let o=0,n=t.length;const l=document.querySelector(".offers__content--line-item");function r(){let e=(o+1)/n*100;l.style.width=e+"%"}const s=document.querySelector(".offers__content--button-next"),i=document.querySelector(".offers__content--button-prev");function c(){i.disabled=0===o,s.disabled=o===t.length-1,i.classList.toggle("non-active",0===o),s.classList.toggle("non-active",o===t.length-1)}c(),i.addEventListener("click",()=>{if(o>0){o--;e(t[o]),c(),r()}},!1),s.addEventListener("click",()=>{if(o<t.length-1){o++;e(t[o]),c(),r()}},!1),r()}(),function(){let e=document.querySelectorAll(".offers__filter--item");if(0===e.length)return;const o=document.querySelector(".offers__filter--button-next"),n=document.querySelector(".offers__filter--button-prev");let l=0;function r(){n.disabled=0===l,o.disabled=l===e.length-1,n.classList.toggle("non-active",0===l),o.classList.toggle("non-active",l===e.length-1)}console.log("🚀 ~ initSliderOffersFilter ~ countSliderOffers:",l),r(),n.addEventListener("click",()=>{if(l>0){l--;const o=e.item(l);console.log("🚀 ~ prevButton.addEventListener ~ activeSlide:",o),t(o),r()}},!1),o.addEventListener("click",()=>{if(l<e.length-1){l++;const o=e.item(l);console.log("🚀 ~ nextButton.addEventListener ~ activeSlide:",o),t(o),r()}},!1)}()}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".offers__filter--item"),t=document.querySelectorAll(".offers__content--slider .offers__content--slide");e&&e.forEach((o,n)=>{o.addEventListener("click",()=>{const n=o.getAttribute("data-filter");e.forEach((e,t)=>{e.classList.remove("active"),n==e.getAttribute("data-filter")&&e.classList.add("active")}),t.forEach(e=>{"all"===n||e.getAttribute("data-filter")===n?e.style.display="flex":e.style.display="none"}),slidesOffers=Array.from(document.querySelectorAll(".offers__content--slider .offers__content--slide")).filter(e=>"flex"===getComputedStyle(e).display),countSliderOffers=0,totalSlides=slidesOffers.length,slidesOffers[0].scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"}),initSliderOffers()},!1)}),t&&t.forEach((e,t)=>{const o=e.querySelector(".offers__content--slide-button"),n=e.getAttribute("data-id");o.addEventListener("click",e=>{e.preventDefault();const t=new XMLHttpRequest;t.open("POST","/local/ajax/offer.php?elementId="+n,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){const e=t.responseText;document.querySelector(".modal-offers").replaceWith((new DOMParser).parseFromString(e,"text/html").body.firstChild),document.querySelector(".modal-offers").style.display="flex",closeBtnModalOffers=document.querySelector(".modal-offers__header--title-close"),closeBtnModalOffers.addEventListener("click",()=>{document.querySelector(".modal-offers").style.display="none",document.body.style.overflow="auto"}),document.body.style.overflow="hidden"}else console.log("Ошибка запроса:",t.status)},t.send()})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".modal-offers__content--sliders");if(!e)return;const t=e.querySelector(".modal-offers__content--track"),o=e.querySelector(".modal-offers__content--track-slider"),n=o.querySelectorAll(".modal-offers__content--slide"),l=e.querySelector(".modal-offers__content--btn-prev"),r=e.querySelector(".modal-offers__content--btn-next"),s=e.querySelectorAll(".modal-offers__content--nav"),i=e.querySelector(".modal-offers__content--list");if(!n.length||!l||!r)return;let c=0,d=t.offsetWidth;const f=()=>{if(d=t.offsetWidth,o.style.transform=`translateX(-${c*d}px)`,s.forEach((e,t)=>{e.classList.toggle("active",t===c)}),i&&s[c]){const e=s[c],t=e.offsetLeft,o=e.offsetWidth,n=t-i.offsetWidth/2+o/2;i.scrollTo({left:n,behavior:"smooth"})}};l.addEventListener("click",()=>{c=(c-1+n.length)%n.length,f()}),r.addEventListener("click",()=>{c=(c+1)%n.length,f()}),s.forEach((e,t)=>{e.addEventListener("click",()=>{c=t,f()})}),document.addEventListener("keydown",e=>{"ArrowLeft"===e.key?(c=(c-1+n.length)%n.length,f()):"ArrowRight"===e.key&&(c=(c+1)%n.length,f())}),window.addEventListener("resize",()=>{f()}),f()});
document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".apartments__content--btn");0!==t&&t.forEach(t=>{t.addEventListener("click",()=>{const e=t.closest(".apartments__content--info").querySelector(".apartments__content--table").querySelector("tbody");e.classList.toggle("expanded");const n=t.querySelector("span"),r=t.querySelector("svg");e.classList.contains("expanded")?(n.textContent="Скрыть",r.style.transform="rotate(180deg)"):(n.textContent="Подробнее",r.style.transform="rotate(0)")})});const e=document.querySelector(".banner__slider");if(e){const t=e.querySelector(".banner__photo"),r=e.querySelector(".banner__btns--left"),s=e.querySelector(".banner__btns--rigth"),o=e.querySelectorAll(".banner__dots--dot");let a=!1,i=0;function n(t){const n=e.querySelector(".banner__dots--dot.active"),r=Array.from(o).indexOf(n),s=o.length;let a;n.classList.remove("active"),a="right"===t?(r+1)%s:(r-1+s)%s,o[a].classList.add("active")}const l=()=>{if(a)return;a=!0;const e=t.firstElementChild,r=e.offsetWidth;t.style.transition="transform 1s ease-in-out",t.style.transform=`translateX(-${r}px)`,n("right"),t.addEventListener("transitionend",()=>{t.style.transition="none",t.style.transform="translateX(0)",t.appendChild(e),a=!1},{once:!0})},c=()=>{if(a)return;a=!0;const e=t.lastElementChild;t.style.transition="none",t.insertBefore(e,t.firstElementChild);const r=e.offsetWidth;t.style.transform=`translateX(-${r}px)`,n("left"),requestAnimationFrame(()=>{t.style.transition="transform 1s ease-in-out",t.style.transform="translateX(0)",t.addEventListener("transitionend",()=>{a=!1},{once:!0})})};if(r&&r.addEventListener("click",c),s&&s.addEventListener("click",l),o.forEach((t,n)=>{t.addEventListener("click",()=>{if(a)return;const t=e.querySelector(".banner__dots--dot.active"),r=Array.from(o).indexOf(t);n!==r&&(n>r?l():c())})}),window.innerWidth<=900){t.addEventListener("touchstart",(function(t){i=t.touches[0].clientX}),!1),t.addEventListener("touchmove",(function(t){if(!i||a)return;const e=t.touches[0].clientX-i;Math.abs(e)>50&&(e>0?c():l(),i=0)}),!1)}o[0].classList.add("active")}const r=document.querySelector(".layout__body--slider");if(r){const t=r.querySelector(".layout__body--track-slider"),e=(t.querySelectorAll(".layout__body--slide"),r.querySelector(".layout__body--button-prev")),n=r.querySelector(".layout__body--button-next");let s=!1;const o=()=>{if(s)return;s=!0;const e=t.firstElementChild,n=e.offsetWidth;t.style.transition="transform 1s ease-in-out",t.style.transform=`translateX(-${n}px)`,t.addEventListener("transitionend",()=>{t.style.transition="none",t.style.transform="translateX(0)",t.appendChild(e),s=!1},{once:!0})},a=()=>{if(s)return;s=!0;const e=t.lastElementChild,n=e.offsetWidth;t.style.transition="none",t.insertBefore(e,t.firstElementChild),t.style.transform=`translateX(-${n}px)`,requestAnimationFrame(()=>{t.style.transition="transform 1s ease-in-out",t.style.transform="translateX(0)",t.addEventListener("transitionend",()=>{s=!1},{once:!0})})};if(e&&e.addEventListener("click",a),n&&n.addEventListener("click",o),window.innerWidth<=900){let e=0,n=0;t.addEventListener("touchstart",t=>{e=t.touches[0].clientX},!1),t.addEventListener("touchmove",t=>{if(s)return;n=t.touches[0].clientX;const r=n-e;Math.abs(r)>50&&(r>0?a():o(),e=n)},!1)}}});
const servicesForm=document.querySelectorAll(".services-continuation__item--button");if(servicesForm.length>0){const e=document.querySelector("#modal-form-sale"),t=document.querySelector("#modal-form-rent"),o=document.querySelector("#modal-form-purchase");servicesForm.forEach(n=>{n.addEventListener("click",n=>{"open-modal-sale"==n.target.id?e.style.display="flex":"open-modal-rent"==n.target.id?t.style.display="flex":"open-modal-purchase"==n.target.id&&(o.style.display="flex")});const c=document.querySelector("#modal-form-sale .modal-form-sale__content--title-close"),l=document.querySelector("#modal-form-rent .modal-form-sale__content--title-close"),r=document.querySelector("#modal-form-purchase .modal-form-sale__content--title-close");c.addEventListener("click",()=>{e.style.display="none"}),l.addEventListener("click",()=>{t.style.display="none"}),r.addEventListener("click",()=>{o.style.display="none"}),window.onclick=function(n){n.target==e&&(e.style.display="none"),n.target==t&&(t.style.display="none"),n.target==o&&(o.style.display="none")}})}let btnMenuHeader=document.querySelector(".header__container--button-burger"),menuContainer=document.querySelector(".menu__box"),hamburger=document.getElementById("hamburger");btnMenuHeader&&menuContainer&&hamburger&&btnMenuHeader.addEventListener("click",()=>{"block"===menuContainer.style.display?(menuContainer.style.display="none",hamburger.classList.remove("active"),btnMenuHeader.classList.remove("active"),document.body.style.overflow="auto",document.body.style.paddingRight="0"):(menuContainer.style.display="block",hamburger.classList.add("active"),btnMenuHeader.classList.add("active"),document.body.style.overflow="hidden",document.body.style.paddingRight="5px")}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault(),menuContainer.style.display="none",hamburger.classList.remove("active"),btnMenuHeader.classList.remove("active");const t=this.getAttribute("href");if("#"!==t){document.querySelector(t).scrollIntoView({behavior:"smooth"})}}),!1)}),window.addEventListener("scroll",(function(){const e=document.getElementById("block-to-hide");if(!e)return;document.getElementById("footer").getBoundingClientRect().top<window.innerHeight?e.style.display="none":e.style.display="flex"})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".custom-select");e.forEach(t=>{const o=t.querySelector(".select-header"),n=t.querySelector(".select-current"),c=t.querySelectorAll(".custom-checkbox");o.addEventListener("click",()=>{e.forEach(e=>{e!==t&&e.classList.remove("active")}),t.classList.toggle("active")}),c.forEach(e=>{e.addEventListener("change",()=>{!function(){const e=Array.from(c).filter(e=>e.checked).map(e=>e.closest(".select-option").querySelector(".checkbox-text").textContent);0===e.length?n.textContent="Выберите тип недвижимости":n.textContent=e.join(", ")}()})})}),document.addEventListener("click",t=>{t.target.closest(".custom-select")||e.forEach(e=>e.classList.remove("active"))});const t=document.querySelector(".header__container--button-active");t&&t.addEventListener("click",()=>{const e=document.querySelector(".modal-form");e.style.display="flex";document.querySelector(".form-header__close").addEventListener("click",()=>{e.style.display="none"})});const o=document.querySelectorAll(".services__item--button");o.length>0&&o.forEach(e=>{e.addEventListener("click",()=>{const e=document.querySelector(".modal-form-services");e.style.display="flex";document.querySelector(".modal-form-services__content--title-close").addEventListener("click",()=>{e.style.display="none"})})})}));const openNewPage=document.querySelector(".header__special");openNewPage&&openNewPage.addEventListener("click",e=>{e.preventDefault();const t=window.location.href,o=t+(t.endsWith("/")?"offer":"/offer");sessionStorage.setItem("addSpecialClass","true"),window.location.href=o}),document.addEventListener("DOMContentLoaded",()=>{const e=window.location.href.includes("/offer");e?(document.body.classList.add("special-page-body"),sessionStorage.removeItem("addSpecialClass")):!e&&document.body.classList.contains("special-page-body")&&document.body.classList.remove("special-page-body")});
//# sourceMappingURL=../sourcemaps/main.min.js.map
